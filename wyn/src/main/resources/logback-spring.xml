<configuration scan="true" scanPeriod="30 seconds">
  <!--  日志默认输出位置为tomcat目录下的bin目录 ../logs指tomcat下日志文件路径 -->
  <property name="logPath" value="./wynLogs" />

  <!-- 最大保存时间 10天 -->
  <property name="maxHistory" value="180"/>

  <property name="maxFileSize" value="50MB" />

  <!-- lOGGER  PATTERN  配置化输出语句 根据自己的喜好选择 -->
  <property name="logPattern" value="%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] [%-5level] %logger - %msg%n"/>

  <!-- 控制台打印日志的相关配置 -->
  <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
    <!-- 日志格式 -->
    <encoder>
      <charset>UTF-8</charset>
      <pattern>${logPattern}</pattern>
    </encoder>
  </appender>

  <!-- DUBUG 日志记录  -->
  <appender name="DEBUG"  class="ch.qos.logback.core.rolling.RollingFileAppender">
            <!-- 过滤器，只记录DUBUG级别的日志 -->
            <!-- 日志级别等于配置级别，过滤器会根据onMath 和 onMismatch接收或拒绝日志。 -->
    <filter class="ch.qos.logback.classic.filter.LevelFilter">
          <!-- 设置过滤级别 -->
      <level>DEBUG</level>
                  <!-- 用于配置符合过滤条件的操作 -->
      <onMatch>ACCEPT</onMatch>
                  <!-- 用于配置不符合过滤条件的操作 -->
      <onMismatch>DENY</onMismatch>
    </filter>

            <!-- 最常用的滚动策略，它根据时间来制定滚动策略.既负责滚动也负责出发滚动 -->
            <rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
                <!--日志输出位置 可相对、和绝对路径 -->
                <fileNamePattern>${logPath}/debug/%d{yyyy-MM-dd}_debug.%i.log</fileNamePattern>
                <!-- 可选节点，控制保留的归档文件的最大数量，超出数量就删除旧文件假设设置每个月滚动，且<maxHistory>是30， 则只保存最近30天的文件，
            删除之前的旧文件。注意，删除旧文件是，那些为了归档而创建的目录也会被删除 -->
                <maxHistory>${maxHistory}</maxHistory>
                <maxFileSize>${maxFileSize}</maxFileSize>
            </rollingPolicy>

    <encoder>
      <charset>UTF-8</charset>
      <pattern>${logPattern}</pattern>
    </encoder>
  </appender>

  <!-- INFO 级别的日志记录  -->
  <appender name="INFO" class="ch.qos.logback.core.rolling.RollingFileAppender">
    <filter class="ch.qos.logback.classic.filter.LevelFilter">
      <level>INFO</level>
      <onMatch>ACCEPT</onMatch>
      <onMismatch>DENY</onMismatch>
    </filter>

    <rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
      <fileNamePattern>${logPath}/info/%d{yyyy-MM-dd}_info.%i.log</fileNamePattern>
                  <maxHistory>${maxHistory}</maxHistory>
                  <maxFileSize>${maxFileSize}</maxFileSize>
    </rollingPolicy>

    <encoder>
      <charset>UTF-8</charset>
      <pattern>${logPattern}</pattern>
    </encoder>
  </appender>

  <!--  WARN 级别的日志记录 -->
  <appender name="WARN" class="ch.qos.logback.core.rolling.RollingFileAppender">
    <filter class="ch.qos.logback.classic.filter.LevelFilter">
      <level>WARN</level>
      <onMatch>ACCEPT</onMatch>
      <onMismatch>DENY</onMismatch>
    </filter>

    <rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
      <fileNamePattern>${logPath}/warn/%d{yyyy-MM-dd}_warn.%i.log</fileNamePattern>
                  <maxHistory>${maxHistory}</maxHistory>
                  <maxFileSize>${maxFileSize}</maxFileSize>
    </rollingPolicy>

    <encoder>
      <charset>UTF-8</charset>
      <pattern>${logPattern}</pattern>
    </encoder>
  </appender>

  <!-- Error 级别的日志记录 -->
  <appender name="ERROR" class="ch.qos.logback.core.rolling.RollingFileAppender">
    <filter class="ch.qos.logback.classic.filter.LevelFilter">
      <level>ERROR</level>
      <onMatch>ACCEPT</onMatch>
      <onMismatch>DENY</onMismatch>
    </filter>

    <!--<file>${logPath}/error/%d{yyyy-MM-dd}_error.log</file>-->

    <rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
      <fileNamePattern>${logPath}/error/%d{yyyy-MM-dd}_error.%i.log</fileNamePattern>
                  <maxHistory>${maxHistory}</maxHistory>
                  <maxFileSize>${maxFileSize}</maxFileSize>
    </rollingPolicy>

    <encoder>
      <charset>UTF-8</charset>
      <pattern>${logPattern}</pattern>
    </encoder>
  </appender>

  <!-- 最终的策略 -->
  <!--    &lt;!&ndash; 开发环境:打印控制台&ndash;&gt;-->
  <!--    <springProfile name="local,dev">-->
  <!--        &lt;!&ndash; 级别依次为【从高到低】：FATAL > ERROR > WARN > INFO > DEBUG > TRACE  &ndash;&gt;-->
  <!--        <root level="INFO">-->
  <!--            <appender-ref ref="STDOUT" />-->
  <!--        </root>-->
  <!--    </springProfile>-->

  <!-- 生产环境:输出到文档-->
  <!--    <springProfile name="local,dev">-->
  <!--        <root level="INFO">-->
  <!--            <appender-ref ref="STDOUT" />-->
  <!--            <appender-ref ref="INFO" />-->
  <!--            <appender-ref ref="WARN" />-->
  <!--            <appender-ref ref="ERROR" />-->
  <!--        </root>-->
  <!--    </springProfile>-->
  <logger name="com.cl.wyn.core.controller" additivity="false">
    <level value="debug"/>
        <appender-ref ref="STDOUT"/>
        <appender-ref ref="DEBUG" />
        <appender-ref ref="INFO" />
        <appender-ref ref="WARN" />
        <appender-ref ref="ERROR" />
  </logger>
<!--  <logger name="com.cl" additivity="false">-->
<!--    <level value="info"/>-->
<!--&lt;!&ndash;    <appender-ref ref="STDOUT"/>&ndash;&gt;-->
<!--    <appender-ref ref="DEBUG" />-->
<!--    <appender-ref ref="INFO" />-->
<!--    <appender-ref ref="WARN" />-->
<!--    <appender-ref ref="ERROR" />-->
<!--  </logger>-->
  <root level="INFO">
<!--    <appender-ref ref="STDOUT" />-->
    <appender-ref ref="INFO" />
    <appender-ref ref="WARN" />
    <appender-ref ref="ERROR" />
  </root>

</configuration>